<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="../image-processor.js" charset="utf-8"></script>
    <script>
    var catImage = imageProcessor.preload('cat.jpg');

    function flip() {
      var dir = document.getElementById('image-dir').value,
          target = document.getElementById('image');
      target.innerHTML = 'Loading...';
      catImage
        .then(
          img => imageProcessor.flip(img, dir)
        )
        .then(img => {
          target.innerHTML = '';
          target.appendChild(img);
        })
        .catch(console.log);
    }
    </script>
    <style media="screen">
      img { width: 80% }
    </style>
  </head>
  <body onload="flip()">
    <select id="image-dir" onchange="flip()">
      <option value="x" selected>X</option>
      <option value="y">Y</option>
      <option value="xy">X and Y</option>
      <option value="">no-flip</option>
    </select>
    <br>
    <div id="image"></div>
  </body>
</html>
